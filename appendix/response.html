<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instrumental Response &mdash; HinetPy v0.6.10.dev46+g93e7ac2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Changelog" href="../changelog.html" />
    <link rel="prev" title="Channel Table file" href="channeltable.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> HinetPy
          </a>
              <div class="version">
                v0.6.10.dev46+g93e7ac2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../appendix.html">Appendix</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="catwin32.html">catwin32</a></li>
<li class="toctree-l2"><a class="reference internal" href="win2sac.html">win2sac</a></li>
<li class="toctree-l2"><a class="reference internal" href="channeltable.html">Channel Table file</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Instrumental Response</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input">Input</a></li>
<li class="toctree-l3"><a class="reference internal" href="#analog-stage">Analog Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preamplification">Preamplification</a></li>
<li class="toctree-l3"><a class="reference internal" href="#analog-digital-conversion">Analog-Digital Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#digital-stage">Digital Stage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#q-a">Q&amp;A</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HinetPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../appendix.html">Appendix</a> &raquo;</li>
      <li>Instrumental Response</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/appendix/response.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="instrumental-response">
<h1>Instrumental Response<a class="headerlink" href="#instrumental-response" title="Permalink to this headline"></a></h1>
<section id="input">
<h2>Input<a class="headerlink" href="#input" title="Permalink to this headline"></a></h2>
<p>The unit of Hi-net input is determined by column [9], ususally <code class="docutils literal notranslate"><span class="pre">m/s</span></code>.</p>
</section>
<section id="analog-stage">
<h2>Analog Stage<a class="headerlink" href="#analog-stage" title="Permalink to this headline"></a></h2>
<p>The moving coil velocity type seismometer is used in Hi-net and
its transfer function in the Laplace domain is given as:</p>
<div class="math notranslate nohighlight">
\[\frac{Gs^2}{s^2 + 2hws + w^2}\]</div>
<p>where,</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(G\)</span>: gain factor, given as column [8] in <code class="docutils literal notranslate"><span class="pre">V/unit_of_input</span></code></p></li>
<li><p><span class="math notranslate nohighlight">\(h\)</span>: damping constant, given as column [11]</p></li>
<li><p><span class="math notranslate nohighlight">\(w\)</span>: natural angular frequency, given as column [10]</p></li>
</ul>
<p>Roots of the numerator and the denominator correspond to the
zeros and the poles, respectively, and the A0 normalization factor
is the inverse of the absolute value of the
above equation except G at the normalization frequency (<span class="math notranslate nohighlight">\(f_n\)</span>).
The normalization frequency of Hi-net seismometer is always 20 Hz.</p>
<p>It’s easy to know that the instrumental response has two poles and two zeros.
It’s also easy to calculate A0, with <span class="math notranslate nohighlight">\(s=i*2*\pi*f_n\)</span>.</p>
</section>
<section id="preamplification">
<h2>Preamplification<a class="headerlink" href="#preamplification" title="Permalink to this headline"></a></h2>
<p>The sensor ouput is amplified prior to A/D conversion.
The amplification factor is determined by column [12] in dB.</p>
<p>According to the definition of decibel of field quantities:</p>
<div class="math notranslate nohighlight">
\[L_{F}=20\log _{10}\left({\frac {F}{F_{0}}}\right)\!~\mathrm {dB} .\]</div>
<p>Thus, the “sensitivity” in this stage is <span class="math notranslate nohighlight">\(10^{\frac{[12]}{20}}\)</span> .</p>
</section>
<section id="analog-digital-conversion">
<h2>Analog-Digital Conversion<a class="headerlink" href="#analog-digital-conversion" title="Permalink to this headline"></a></h2>
<p>The gain in this stage is given by <span class="math notranslate nohighlight">\(\frac{1}{[13]}\)</span>, in <code class="docutils literal notranslate"><span class="pre">counts/V</span></code>.</p>
</section>
<section id="digital-stage">
<h2>Digital Stage<a class="headerlink" href="#digital-stage" title="Permalink to this headline"></a></h2>
<p>The gain in this stage is 1.0, according to the three RESP files provided
on Hi-net website.</p>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline"></a></h2>
<p>The total sensitivity is:</p>
<div class="math notranslate nohighlight">
\[G = \frac{[8]*10^{\frac{[12]}{20}}}{[13]}\]</div>
<p>The <code class="docutils literal notranslate"><span class="pre">CONSTANT</span></code> in SAC PZ file should be:</p>
<div class="math notranslate nohighlight">
\[CONSTANT = A0 * G = A0 * \frac{[8]*10^{\frac{[12]}{20}}}{[13]}\]</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>HinetPy uses win2sac_32 to do the conversion from win32 to SAC format.
win2sac_32 always remove total sensitivity (G) from waveform and multiply
by 1.0e9 to convert unit from meter to nanometer.</p>
<p>Thus, the extracted SAC files are velocity in nm/s or acceleration in nm/s/s.
The total sensivitity G is also omitted when generating PZ files.</p>
</div>
</section>
<section id="q-a">
<h2>Q&amp;A<a class="headerlink" href="#q-a" title="Permalink to this headline"></a></h2>
<p>My question:</p>
<blockquote>
<div><p>Hi,</p>
<p>I am using Hi-net data and am confused with the instrumental response
even after I have looked through all pages of Hi-net website.</p>
<p>In the page of ‘For Registered Users’ -&gt; ‘Response of Observation Equipment’,
only three RESP files are given. It seems that I have to rewrite a new RESP
or SAC_PZ file for each channel.</p>
<p>So I have to confirm that I understand details of response, which are very
important for correct data processing.</p>
<ol class="arabic">
<li><p>Do all channels have the same zeroes and poles?</p></li>
<li><p>At line 19, do all channels have the same A0 Normalization factor (0.999953)?</p></li>
<li><p>In the FAQ Q08, one equation is given to convert the A/D value from an WIN32
file to the corresponding physical quantity. It is</p>
<blockquote>
<div><p>v = I * [13] / ([8] * 10 ^ ([12] / 20 ) )</p>
</div></blockquote>
<p>If I want to generate a SAC PZ file, the CONSTANT will be</p>
<blockquote>
<div><p>CONSTANT = [8]*10^([12]/20) / [13] * A0 ?</p>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p>Answer from Hi-net:</p>
<blockquote>
<div><p>In the “Response of Observation Equipment” page, sample RESP files are
provided and you need to modify them according to your purposes, as you
wrote. The explanation in this page assumes that the parameters of the
seismometer other than the gain factor do not change. Strictly speaking,
the zeros, the poles, and the A0 normalization factor can change
depending on the parameters of the seismometer. The moving coil velocity
type seismometer is used in Hi-net and its transfer function in the
Laplace domain is given as:</p>
<blockquote>
<div><p>Gs^2/(s^2 + 2hws + w^2)</p>
</div></blockquote>
<p>where G, h and w are the gain factor, the damping constant, and the
natural angular frequency, respectively. Roots of the numerator and the
denominator correspond to the zeros and the poles, respectively, and the
A0 normalization factor is the inverse of the absolute value of the
above equation except G at the normalization frequency. Detailed
explanation about this type of seismometer is available in many
literature, such as,</p>
<p>Scherbaum, F., Of Poles and Zeros: Fundamentals of Digital Seismology,
Kluwer Academic Publishers, 1996.
#see chapter 4</p>
<p>The gain factor, the damping constant, and the natural period are
provided in the channels table file as explained in the Q&amp;A08.
Note that the gain factor is measured at its natural frequency.
<a class="reference external" href="http://www.hinet.bosai.go.jp/faq/?LANG=en#Q08">http://www.hinet.bosai.go.jp/faq/?LANG=en#Q08</a></p>
<p>Please read the SEED manual about further details and SAC manual about
SAC PZ file.</p>
<ul class="simple">
<li><p>SEED: <a class="reference external" href="http://www.fdsn.org/publications.htm">http://www.fdsn.org/publications.htm</a></p></li>
<li><p>SAC: <a class="reference external" href="http://www.iris.edu/files/sac-manual/">http://www.iris.edu/files/sac-manual/</a></p></li>
</ul>
<p>Sincerely,</p>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.hinet.bosai.go.jp/faq/?LANG=en#Q08">Hi-net FAQ 08</a></p></li>
<li><p><a class="reference external" href="https://hinetwww11.bosai.go.jp/auth/seed/?LANG=en">Response of Observation Equipment</a></p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="channeltable.html" class="btn btn-neutral float-left" title="Channel Table file" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2021, Dongdong Tian.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>