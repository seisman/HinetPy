<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HinetPy.win32 模块 &mdash; HinetPy v0.6.10.dev70+gc051123 文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="HinetPy.header模块" href="HinetPy.header.html" />
    <link rel="prev" title="HinetPy.client 模块" href="HinetPy.client.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> HinetPy
          </a>
              <div class="version">
                v0.6.10.dev70+gc051123
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">示例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API参考</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="HinetPy.client.html">HinetPy.client 模块</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">HinetPy.win32 模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="HinetPy.header.html">HinetPy.header模块</a></li>
<li class="toctree-l2"><a class="reference internal" href="HinetPy.utils.html">HinetPy.utils 模块</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">附录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">许可协议</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HinetPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../api.html">API参考</a> &raquo;</li>
      <li>HinetPy.win32 模块</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/HinetPy.win32.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-HinetPy.win32">
<span id="hinetpy-win32-module"></span><h1>HinetPy.win32 模块<a class="headerlink" href="#module-HinetPy.win32" title="永久链接至标题"></a></h1>
<p>Process seismic waveform data in win32 format.</p>
<dl class="py class">
<dt class="sig sig-object py" id="HinetPy.win32.Channel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">Channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">latitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">damping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preamplification</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lsb_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.Channel" title="永久链接至目标"></a></dt>
<dd><p>Class for channel information.</p>
<p>Initialize a channel.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 通道ID。</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 台站名。</p></li>
<li><p><strong>component</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Channel component name (e.g., <code class="docutils literal notranslate"><span class="pre">U</span></code>, <code class="docutils literal notranslate"><span class="pre">N</span></code> or <code class="docutils literal notranslate"><span class="pre">E</span></code>).</p></li>
<li><p><strong>latitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(在 Python v3.10)"><em>float</em></a>) – 台站纬度。</p></li>
<li><p><strong>longitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(在 Python v3.10)"><em>float</em></a>) – 台站经度。</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Unit of data (e.g., <code class="docutils literal notranslate"><span class="pre">m</span></code>, <code class="docutils literal notranslate"><span class="pre">m/s</span></code>, <code class="docutils literal notranslate"><span class="pre">m/s/s</span></code>, <code class="docutils literal notranslate"><span class="pre">rad</span></code>).</p></li>
<li><p><strong>gain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(在 Python v3.10)"><em>float</em></a>) – 传感器敏感度。</p></li>
<li><p><strong>damping</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(在 Python v3.10)"><em>float</em></a>) – 传感器阻尼常数。</p></li>
<li><p><strong>period</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(在 Python v3.10)"><em>float</em></a>) – 地震仪的自然周期。</p></li>
<li><p><strong>preamplification</strong> – Preamplification value.</p></li>
<li><p><strong>lsb_value</strong> – LSB值。</p></li>
</ul>
</dd>
</dl>
<div class="admonition- admonition">
<p class="admonition-title">提示</p>
<p>The Hi-net website uses the moving-coil velocity-type seismometer.
See <a class="reference internal" href="../appendix/response.html"><span class="doc">仪器响应</span></a> for details.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="HinetPy.win32.Channel.write_sacpz">
<span class="sig-name descname"><span class="pre">write_sacpz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pzfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_sensitivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.Channel.write_sacpz" title="永久链接至目标"></a></dt>
<dd><p>Write channel information into a SAC polezero file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pzfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Name of the SAC polezero file.</p></li>
<li><p><strong>keep_sensitivity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><em>bool</em></a>) – Keep sensitivity in the SAC polezero “CONSTANT” or not.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.extract_sac">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">extract_sac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SAC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8640000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_sacpz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.extract_sac" title="永久链接至目标"></a></dt>
<dd><p>提取数据并以SAC格式保存。</p>
<p>This function calls the <code class="docutils literal notranslate"><span class="pre">win2sac_32</span></code> command, available in the Hi-net win32tools
package, to convert data files from win32 format to SAC fomrat. It can also
extract the channel information as SAC polezero files.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">win2sac_32</span></code> command always remove the instrument sensitivity
from waveform data, and multiply the data by 1.0e9. Thus, the extracted SAC
files are not in digital counts, but velocity in nm/s, or acceleration in nm/s/s.
Due to the same reason, the extracted SAC polezero files does not keep the
sensitivity in the “CONSTANT” of SAC polezero files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 要处理的win32文件。</p></li>
<li><p><strong>ctable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 通道表文件。</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 输出SAC文件的后缀。默认值为 <code class="docutils literal notranslate"><span class="pre">SAC</span></code> 。</p></li>
<li><p><strong>outdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 输出目录。默认输出到当前目录。</p></li>
<li><p><strong>pmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><em>int</em></a>) – Maximum number of data points for one channel. Defaults to 8640000.
If one channel has more than 8640000 data points (i.e., longer than
one day for a 100 Hz sampling rate), you MUST increase <code class="docutils literal notranslate"><span class="pre">pmax</span></code>.</p></li>
<li><p><strong>filter_by_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Filter channels by ID. It can be a list of IDs or a wildcard.</p></li>
<li><p><strong>filter_by_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Filter channels by name. It can be a list of names or a wildcard.</p></li>
<li><p><strong>filter_by_component</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Filter channels by component. It can be a list of component names or
a wildcard.</p></li>
<li><p><strong>with_sacpz</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><em>bool</em></a>) – Aslo extract SAC PZ files. By default, the suffix is <code class="docutils literal notranslate"><span class="pre">.SAC_PZ</span></code> and
the channel sensitivity is not kept in the “CONSTANT”.</p></li>
<li><p><strong>processes</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><em>int</em></a>) – Number of processes to speed up data extraction parallelly.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means using all CPUs.</p></li>
</ul>
</dd>
</dl>
<div class="deprecated">
<p><span class="versionmodified deprecated">0.7.0 版后已移除: </span>Parameter <code class="docutils literal notranslate"><span class="pre">with_pz</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">with_sacpz</span></code> instead.</p>
</div>
<div class="admonition- admonition">
<p class="admonition-title">实际案例</p>
<p>Extract all channels with default settings:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sac</span><span class="p">(</span><span class="s2">&quot;0101_201001010000_5.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Extract all channels with a specified suffix and output directory:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sac</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_201001010000_5.cnt&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outdir</span><span class="o">=</span><span class="s2">&quot;20100101000&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>只提取指定通道：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sac</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_201001010000_5.cnt&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">filter_by_name</span><span class="o">=</span><span class="s2">&quot;N.NA*&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">filter_by_component</span><span class="o">=</span><span class="s2">&quot;[NE]&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.extract_sacpz">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">extract_sacpz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SAC_PZ'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_sensitivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_chid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.extract_sacpz" title="永久链接至目标"></a></dt>
<dd><p>Extract instrumental responses in SAC polezero format from a channel table.</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The function only works for Hi-net instrumental responses.</p>
<p>RESP files of the F-net network can be downloaded from
<a class="reference external" href="http://www.fnet.bosai.go.jp/st_info/response.php?LANG=en">F-net website</a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 通道表文件。</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – SAC零极点文件后缀，默认为 <code class="docutils literal notranslate"><span class="pre">SAC_PZ</span></code> 。</p></li>
<li><p><strong>outdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – 输出目录。默认输出到当前目录。</p></li>
<li><p><strong>keep_sensitivity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><em>bool</em></a>) – The <code class="docutils literal notranslate"><span class="pre">win2sac_32</span></code> program automatically removes sensitivity from waveform
data during the win32-to-SAC format conversion.
So the generated polezero file should omit the sensitivity.</p></li>
<li><p><strong>filter_by_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Filter channels by ID. It can be a list of IDs or a wildcard.</p></li>
<li><p><strong>filter_by_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Filter channels by name. It can be a list of names or a wildcard.</p></li>
<li><p><strong>filter_by_component</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Filter channels by component. It can be a list of component names or
a wildcard.</p></li>
<li><p><strong>processes</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(在 Python v3.10)"><em>None</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(在 Python v3.10)"><em>int</em></a>) – Number of processes to speed up data extraction parallelly.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means using all CPUs.</p></li>
</ul>
</dd>
</dl>
<div class="admonition- admonition">
<p class="admonition-title">实际案例</p>
<p>Extract all channels with default settings:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sacpz</span><span class="p">(</span><span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Extract all channels with a specified suffix and output directory:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sacpz</span><span class="p">(</span><span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">outdir</span><span class="o">=</span><span class="s2">&quot;20100101000&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>只提取指定通道：</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sacpz</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span> <span class="n">filter_by_name</span><span class="o">=</span><span class="s2">&quot;N.NA*&quot;</span><span class="p">,</span> <span class="n">filter_by_component</span><span class="o">=</span><span class="s2">&quot;[NE]&quot;</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.extract_pz">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">extract_pz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.extract_pz" title="永久链接至目标"></a></dt>
<dd><p>Extract instrumental responses in SAC polezero format from a channel table.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">0.7.0 版后已移除: </span><a class="reference internal" href="#HinetPy.win32.extract_pz" title="HinetPy.win32.extract_pz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_pz()</span></code></a> is deprecated.
Use <a class="reference internal" href="#HinetPy.win32.extract_sacpz" title="HinetPy.win32.extract_sacpz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_sacpz()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.read_ctable">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">read_ctable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.read_ctable" title="永久链接至目标"></a></dt>
<dd><p>Read a channel table file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>ctable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Channle table file.</p>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>List of <a class="reference internal" href="#HinetPy.win32.Channel" title="HinetPy.win32.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">Channel</span></code></a>.</p>
</dd>
<dt class="field-odd">返回类型</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.merge">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.merge" title="永久链接至目标"></a></dt>
<dd><p>Merge multiple win32 files into one large win32 file.</p>
<p>The function calls the <code class="docutils literal notranslate"><span class="pre">catwin32</span></code> command, available in the Hi-net win32tools
package, to merge multiple win32 files into one large win32 file.</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">catwin32</span></code> command simply concatenates all files in the order
they are passed. So the files must be sorted by their start time before being
passed. If your files are named by starttime like <code class="docutils literal notranslate"><span class="pre">201304040203.cnt</span></code>, you can use
<code class="docutils literal notranslate"><span class="pre">data=sorted(glob.glob(&quot;20130404*.cnt&quot;))</span></code> to pass the sorted list of files.
Otherwise, you have to use <code class="docutils literal notranslate"><span class="pre">force_sort=True</span></code>, forcing <code class="docutils literal notranslate"><span class="pre">catwin32</span></code> to sort
all files by starttime before merging. However, the sorting process is very
time consuming. Do NOT set <code class="docutils literal notranslate"><span class="pre">force_sort=True</span></code> unless necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(在 Python v3.10)"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Win32 files to be merged. It can be a list of file names or a wildcard.</p></li>
<li><p><strong>total_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(在 Python v3.10)"><em>str</em></a>) – Filename of the ouput win32 file.</p></li>
<li><p><strong>force_sort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(在 Python v3.10)"><em>bool</em></a>) – Sort all win32 files by starttime before merging.</p></li>
</ul>
</dd>
</dl>
<div class="admonition- admonition">
<p class="admonition-title">实际案例</p>
<p>For win32 files that are named by starttime (e.g. <code class="docutils literal notranslate"><span class="pre">201304040203.cnt</span></code>),
sorting win32 files using Python’s built-in <a class="reference external" href="https://docs.python.org/3/library/functions.html#sorted" title="(在 Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> function is preferred:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;20130404*.cnt&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">merge</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;outdir/final.cnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If win32 files are randomly named, you should use <code class="docutils literal notranslate"><span class="pre">force_sort=True</span></code> to
force <code class="docutils literal notranslate"><span class="pre">catwin32</span></code> to sort all data by time before merging.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;001.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;002.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;003.cnt&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">merge</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;final.cnt&quot;</span><span class="p">,</span> <span class="n">force_sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use wildcard to specify the win32 files to be merged.
The function will sort the matched files for you automatically.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">merge</span><span class="p">(</span><span class="s2">&quot;20130404*.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;final.cnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="HinetPy.client.html" class="btn btn-neutral float-left" title="HinetPy.client 模块" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="HinetPy.header.html" class="btn btn-neutral float-right" title="HinetPy.header模块" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2014-2021, Dongdong Tian.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>