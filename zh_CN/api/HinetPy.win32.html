


<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HinetPy.win32 module &mdash; HinetPy v0.9.2.dev8+gf0929803 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7f0ab109"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="HinetPy.channel module" href="HinetPy.channel.html" />
    <link rel="prev" title="HinetPy.client module" href="HinetPy.client.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HinetPy
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
    
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">安装</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">示例</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API参考</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="HinetPy.client.html">HinetPy.client module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">HinetPy.win32 module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#HinetPy.win32.extract_sac"><code class="docutils literal notranslate"><span class="pre">extract_sac()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#HinetPy.win32.extract_sacpz"><code class="docutils literal notranslate"><span class="pre">extract_sacpz()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#HinetPy.win32.extract_pz"><code class="docutils literal notranslate"><span class="pre">extract_pz()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#HinetPy.win32.read_ctable"><code class="docutils literal notranslate"><span class="pre">read_ctable()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#HinetPy.win32.merge"><code class="docutils literal notranslate"><span class="pre">merge()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="HinetPy.channel.html">HinetPy.channel module</a></li>
<li class="toctree-l2"><a class="reference internal" href="HinetPy.header.html">HinetPy.header module</a></li>
<li class="toctree-l2"><a class="reference internal" href="HinetPy.utils.html">HinetPy.utils module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">附录</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">许可协议</a></li>
</ul>


    
        <p class="caption">
            <span class="caption-text">Links</span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://github.com/seisman/HinetPy"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
                <li class="toctree-l1"><a href="https://www.hinet.bosai.go.jp/"><i class="fa fa-globe fa-fw"></i> NIED Hi-net</a></li>
            
                <li class="toctree-l1"><a href="https://seisman.github.io/HinetPy/"><i class="fa fa-book fa-fw"></i> Documentation</a></li>
            
                <li class="toctree-l1"><a href="https://seisman.github.io/HinetPy/zh_CN/"><i class="fa fa-book fa-fw"></i> 中文文档</a></li>
            
        </ul>
    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HinetPy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">API参考</a></li>
      <li class="breadcrumb-item active">HinetPy.win32 module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/HinetPy.win32.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-HinetPy.win32">
<span id="hinetpy-win32-module"></span><h1>HinetPy.win32 module<a class="headerlink" href="#module-HinetPy.win32" title="Link to this heading"></a></h1>
<p>Process seismic waveform data in win32 format.</p>
<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.extract_sac">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">extract_sac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SAC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8640000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_sacpz</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.extract_sac" title="Link to this definition"></a></dt>
<dd><p>Extract data as SAC format files.</p>
<p>This function calls the <code class="docutils literal notranslate"><span class="pre">win2sac_32</span></code> command, available in the Hi-net win32tools
package, to convert data files from win32 format to SAC fomrat. It can also extract
the channel information as SAC polezero files.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">win2sac_32</span></code> command always remove the instrument sensitivity from
waveform data, and multiply the data by 1.0e9. Thus, the extracted SAC files are not
in digital counts, but velocity in nm/s, or acceleration in nm/s/s. Due to the same
reason, the extracted SAC polezero files does not keep the sensitivity in the
&quot;CONSTANT&quot; of SAC polezero files.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- win32 file to be processed.</p></li>
<li><p><strong>ctable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Channel table file.</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Suffix of output SAC files. Defaults to <code class="docutils literal notranslate"><span class="pre">SAC</span></code>.</p></li>
<li><p><strong>outdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Output directory. Defaults to current directory.</p></li>
<li><p><strong>pmax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="（在 Python v3.13）"><em>int</em></a>) -- Maximum number of data points for one channel. Defaults to 8640000. If one
channel has more than 8640000 data points (i.e., longer than one day for a
100 Hz sampling rate), you MUST increase <code class="docutils literal notranslate"><span class="pre">pmax</span></code>.</p></li>
<li><p><strong>filter_by_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Filter channels by ID. It can be a list of IDs or a wildcard.</p></li>
<li><p><strong>filter_by_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Filter channels by name. It can be a list of names or a wildcard.</p></li>
<li><p><strong>filter_by_component</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Filter channels by component. It can be a list of component names or a wildcard.</p></li>
<li><p><strong>with_sacpz</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="（在 Python v3.13）"><em>bool</em></a>) -- Aslo extract SAC PZ files. By default, the suffix is <code class="docutils literal notranslate"><span class="pre">.SAC_PZ</span></code> and the channel
sensitivity is not kept in the &quot;CONSTANT&quot;.</p></li>
<li><p><strong>processes</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="（在 Python v3.13）"><em>int</em></a>) -- Number of processes to speed up data extraction parallelly. <code class="docutils literal notranslate"><span class="pre">None</span></code> means using
all CPUs.</p></li>
<li><p><strong>deprecated:</strong> (<em>..</em>) -- 0.7.0: Parameter <code class="docutils literal notranslate"><span class="pre">with_pz</span></code> is deprecated. Use <code class="docutils literal notranslate"><span class="pre">with_sacpz</span></code> instead.</p></li>
</ul>
</dd>
</dl>
<div class="admonition- admonition">
<p class="admonition-title">示例</p>
<p>Extract all channels with default settings:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sac</span><span class="p">(</span><span class="s2">&quot;0101_201001010000_5.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Extract all channels with a specified suffix and output directory:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sac</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_201001010000_5.cnt&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outdir</span><span class="o">=</span><span class="s2">&quot;20100101000&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Extract only specified channels:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sac</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_201001010000_5.cnt&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">filter_by_name</span><span class="o">=</span><span class="s2">&quot;N.NA*&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">filter_by_component</span><span class="o">=</span><span class="s2">&quot;[NE]&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.extract_sacpz">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">extract_sacpz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'SAC_PZ'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_sensitivity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_chid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_by_component</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.extract_sacpz" title="Link to this definition"></a></dt>
<dd><p>Extract instrumental responses in SAC polezero format from a channel table.</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>The function only works for Hi-net instrumental responses.</p>
<p>RESP files of the F-net network can be downloaded from
<a class="reference external" href="http://www.fnet.bosai.go.jp/st_info/response.php?LANG=en">F-net website</a>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Channel table file.</p></li>
<li><p><strong>suffix</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Suffix of SAC PZ files. Defaults to <code class="docutils literal notranslate"><span class="pre">SAC_PZ</span></code>.</p></li>
<li><p><strong>outdir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Output directory. Defaults to current directory.</p></li>
<li><p><strong>keep_sensitivity</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="（在 Python v3.13）"><em>bool</em></a>) -- The <code class="docutils literal notranslate"><span class="pre">win2sac_32</span></code> program automatically removes sensitivity from waveform data
during the win32-to-SAC format conversion. So the generated polezero file should
omit the sensitivity.</p></li>
<li><p><strong>filter_by_id</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Filter channels by ID. It can be a list of IDs or a wildcard.</p></li>
<li><p><strong>filter_by_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Filter channels by name. It can be a list of names or a wildcard.</p></li>
<li><p><strong>filter_by_component</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Filter channels by component. It can be a list of component names or a wildcard.</p></li>
<li><p><strong>processes</strong> (<em>None</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="（在 Python v3.13）"><em>int</em></a>) -- Number of processes to speed up data extraction parallelly. <code class="docutils literal notranslate"><span class="pre">None</span></code> means using
all CPUs.</p></li>
</ul>
</dd>
</dl>
<div class="admonition- admonition">
<p class="admonition-title">示例</p>
<p>Extract all channels with default settings:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sacpz</span><span class="p">(</span><span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Extract all channels with a specified suffix and output directory:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sacpz</span><span class="p">(</span><span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">outdir</span><span class="o">=</span><span class="s2">&quot;20100101000&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Extract only specified channels:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">extract_sacpz</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;0101_20100101.ch&quot;</span><span class="p">,</span> <span class="n">filter_by_name</span><span class="o">=</span><span class="s2">&quot;N.NA*&quot;</span><span class="p">,</span> <span class="n">filter_by_component</span><span class="o">=</span><span class="s2">&quot;[NE]&quot;</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.extract_pz">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">extract_pz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.extract_pz" title="Link to this definition"></a></dt>
<dd><p>Extract instrumental responses in SAC polezero format from a channel table.</p>
<div class="deprecated">
<p><span class="versionmodified deprecated">自 0.7.0 版本弃用: </span><a class="reference internal" href="#HinetPy.win32.extract_pz" title="HinetPy.win32.extract_pz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_pz()</span></code></a> is deprecated.
Use <a class="reference internal" href="#HinetPy.win32.extract_sacpz" title="HinetPy.win32.extract_sacpz"><code class="xref py py-meth docutils literal notranslate"><span class="pre">extract_sacpz()</span></code></a> instead.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.read_ctable">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">read_ctable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.read_ctable" title="Link to this definition"></a></dt>
<dd><p>Read a channel table file.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Channle table file.</p>
</dd>
<dt class="field-even">返回<span class="colon">:</span></dt>
<dd class="field-even"><p>List of <code class="xref py py-class docutils literal notranslate"><span class="pre">Channel</span></code>.</p>
</dd>
<dt class="field-odd">返回类型<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="HinetPy.win32.merge">
<span class="sig-prename descclassname"><span class="pre">HinetPy.win32.</span></span><span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_sort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#HinetPy.win32.merge" title="Link to this definition"></a></dt>
<dd><p>Merge multiple win32 files into one large win32 file.</p>
<p>The function calls the <code class="docutils literal notranslate"><span class="pre">catwin32</span></code> command, available in the Hi-net win32tools
package, to merge multiple win32 files into one large win32 file.</p>
<p>By default, the <code class="docutils literal notranslate"><span class="pre">catwin32</span></code> command simply concatenates all files in the order they
are passed. So the files must be sorted by their start time before being passed. If
your files are named by starttime like <code class="docutils literal notranslate"><span class="pre">201304040203.cnt</span></code>, you can use
<code class="docutils literal notranslate"><span class="pre">data=sorted(glob.glob(&quot;20130404*.cnt&quot;))</span></code> to pass the sorted list of files.
Otherwise, you have to use <code class="docutils literal notranslate"><span class="pre">force_sort=True</span></code>, forcing <code class="docutils literal notranslate"><span class="pre">catwin32</span></code> to sort all
files by starttime before merging. However, the sorting process is very time
consuming. Do NOT set <code class="docutils literal notranslate"><span class="pre">force_sort=True</span></code> unless necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">参数<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="（在 Python v3.13）"><em>list</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Win32 files to be merged. It can be a list of file names or a wildcard.</p></li>
<li><p><strong>total_data</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="（在 Python v3.13）"><em>str</em></a>) -- Filename of the ouput win32 file.</p></li>
<li><p><strong>force_sort</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="（在 Python v3.13）"><em>bool</em></a>) -- Sort all win32 files by starttime before merging.</p></li>
</ul>
</dd>
</dl>
<div class="admonition- admonition">
<p class="admonition-title">示例</p>
<p>For win32 files that are named by starttime (e.g. <code class="docutils literal notranslate"><span class="pre">201304040203.cnt</span></code>), sorting
win32 files using Python's built-in <a class="reference external" href="https://docs.python.org/3/library/functions.html#sorted" title="（在 Python v3.13）"><code class="xref py py-func docutils literal notranslate"><span class="pre">sorted()</span></code></a> function is preferred:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">&quot;20130404*.cnt&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">merge</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;outdir/final.cnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If win32 files are randomly named, you should use <code class="docutils literal notranslate"><span class="pre">force_sort=True</span></code> to force
<code class="docutils literal notranslate"><span class="pre">catwin32</span></code> to sort all data by time before merging.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;001.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;002.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;003.cnt&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">merge</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s2">&quot;final.cnt&quot;</span><span class="p">,</span> <span class="n">force_sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use wildcard to specify the win32 files to be merged. The function will
sort the matched files for you automatically.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">merge</span><span class="p">(</span><span class="s2">&quot;20130404*.cnt&quot;</span><span class="p">,</span> <span class="s2">&quot;final.cnt&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="HinetPy.client.html" class="btn btn-neutral float-left" title="HinetPy.client module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="HinetPy.channel.html" class="btn btn-neutral float-right" title="HinetPy.channel module" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2014-2024, Dongdong Tian。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>